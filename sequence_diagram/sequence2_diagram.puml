@startuml TrackingFlow
title Sequence Diagram - Priority 2: Personalization and Progress Tracking

actor "User" as U
participant "App UI" as UI
participant "App Logic" as Logic
participant "Scheduler" as Sch
database "Cloud DB" as DB

== Step 1: Upload Personal Book ==
U -> UI: Upload personal PDF / image
UI -> Logic: Send file for OCR + NLP processing
Logic -> DB: Save extracted text and metadata
Logic --> UI: Display ready-to-read book with copyright notice

== Step 2: Save Progress ==
Logic -> DB: Store daily learning record (listened, read, quiz)
DB --> Logic: Confirm save
Logic --> UI: Update user's progress timeline

== Step 3: View Personal Report ==
U -> UI: Open dashboard
UI -> Logic: Request progress summary
Logic -> DB: Fetch performance metrics
DB --> Logic: Return report (mistaken words, quiz errors, focus time)
Logic --> UI: Display charts and feedback summary

== Step 4: Adjust Difficulty ==
U -> UI: Choose difficulty (Easy / Standard / Advanced)
UI -> Logic: Update configuration
Logic -> DB: Save difficulty setting

== Step 5: Daily Mission ==
Sch -> Logic: Generate daily mission
Logic -> DB: Retrieve recent lessons and key words
DB --> Logic: Return passage and vocabulary
Logic -> UI: Notify user of new mission
U -> UI: Start quick practice (Listen → Repeat → Quiz)
Logic -> DB: Update streak record (e.g. 3 consecutive days)

@enduml
