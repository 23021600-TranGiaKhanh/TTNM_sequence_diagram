@startuml VocabularyFlow
title Sequence Diagram - Priority 1: Vocabulary and Comprehension

actor "User" as U
participant "App UI" as UI
participant "App Logic" as Logic
participant "AI/NLP Module" as NLP
participant "TTS Engine" as TTS
participant "Speech Recognition" as SR
database "Cloud DB" as DB

== Step 1: Highlight Difficult Words ==
UI -> Logic: Send textbook text
Logic -> NLP: Detect difficult words
NLP --> Logic: Return word list + meanings
Logic -> UI: Display highlighted words
U -> UI: Tap word "condense"
UI -> Logic: Request meaning + pronunciation
Logic -> TTS: Send word for pronunciation
TTS --> Logic: Return audio
Logic -> UI: Show popup with meaning and image

== Step 2: Vocabulary Flashcards ==

U -> UI: Open "Today's Vocabulary Bag"
UI -> Logic: Request today's vocabulary
Logic -> DB: Fetch word list
DB --> Logic: Return list of words
Logic --> UI: Display flashcards (word + image + buttons)

U -> UI: Tap "Listen"
UI -> TTS: Request word audio
TTS --> UI: Play audio sample

U -> UI: Tap "Read aloud"
UI -> SR: Send student's voice
SR --> Logic: Return recognition result
Logic -> UI: Feedback "Good! You said 'condense' clearly."

Logic -> DB: Save learned words and performance

== Step 3: Lesson Summary ==
Logic -> NLP: Generate short summary
NLP --> Logic: Return 3 key sentences
Logic -> UI: Display summary
UI -> TTS: Read summary slowly

@enduml
